<link rel="import" href="../polymer/polymer.html">

<!--
`my-stern`


@demo demo/index.html 
-->

<script src="../svg.js/dist/svg.js"></Script>
<script src="../svg.easing.js/dist/svg.easing.js"></Script>
<dom-module id="my-stern">
  <template>
    <style>
      :host {
        display: block;
      }
      .alert {
        animation: alertanim 500ms linear infinite alternate;
      }
      @keyframes alertanim {
        0%   { fill: #066CC5; }
        100% { fill: #FF0000; }
      }

    </style>

<?xml version="1.0" encoding="UTF-8"?>
<svg width="384px" height="331px" viewBox="0 0 384 331" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
    <!-- Generator: Sketch 42 (36781) - http://www.bohemiancoding.com/sketch -->
    <title>boat</title>
    <desc>Created with Sketch.</desc>
    <defs>
        <rect id="path-1" x="0" y="197" width="384" height="150"></rect>
        <mask id="mask-2" maskContentUnits="userSpaceOnUse" maskUnits="objectBoundingBox" x="0" y="0" width="384" height="150" fill="white">
            <use xlink:href="#path-1"></use>
        </mask>
    </defs>
    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <g id="boat" transform="translate(0.000000, -16.000000)">
            <g id="_stern" transform="translate(191.438690, 172.458395) rotate(45.000000) translate(-191.438690, -172.458395) translate(49.438690, 71.958395)">
                <path d="M136.926462,1.01763532 L131.006058,1.30091203 L124.877612,1.58420335 L124.9007,2.08367 L124.876457,1.58425806 L119.04064,1.86754432 L112.666533,2.16972091 L112.69021,2.66916 L112.666349,2.16972969 L106.934347,2.44358923 L100.692386,2.73632897 L100.71581,3.23578 L100.739274,3.73522913 L95.1110405,3.99964413 L88.7368747,4.30182398 L82.6177155,4.59456198 L76.9611785,4.86841506 L76.937,4.369 L76.9603031,4.86845667 L70.8885192,5.15174772 L64.8261752,5.44447812 L64.80206,4.94506 L64.8256182,5.4445047 L58.8195382,5.7278047 L58.79598,5.22836 L58.8192831,5.72781667 L52.747518,6.01110685 L46.6946328,6.3038363 L46.67048,5.80442 L46.693879,6.30387219 L40.8486598,6.57771716 L34.7673405,6.87045172 L34.7433,6.37103 L34.7667945,6.8704777 L28.5438983,7.16320918 L22.717632,7.44649004 L22.69335,6.94708 L22.7169832,7.44652116 L16.7297832,7.72983116 L16.70615,7.23039 L16.7261126,7.72999134 L16.49789,7.73911044 L16.49789,12.82093 L15.49789,12.82093 L15.49789,7.25869 L15.99789,7.25869 L15.9779274,6.75908866 L16.6843518,6.73086201 L22.6693924,6.44765419 L28.495728,6.16436996 L28.52001,6.66378 L28.4965155,6.1643323 L34.7195325,5.87159514 L40.8008995,5.57885828 L40.82494,6.07828 L40.801541,5.57882781 L46.6467041,5.30498547 L52.6996372,5.0122537 L52.72379,5.51167 L52.7004869,5.01221333 L58.7725493,4.72890928 L64.7782233,4.44562844 L70.8406948,4.15289188 L70.86481,4.65231 L70.8415069,4.15285333 L76.9132592,3.86956375 L82.5695015,3.59572494 L82.59368,4.09514 L82.5697875,3.59571118 L88.6891975,3.30296118 L88.71309,3.80239 L88.6894131,3.30295091 L95.0637931,3.00076091 L95.08747,3.5002 L95.0640058,3.00075087 L100.692346,2.73633087 L100.71581,3.23578 L100.739234,3.73523103 L106.981414,3.44248103 L106.95799,2.94303 L106.981851,3.44246031 L112.713979,3.16859472 L119.088277,2.86640909 L119.0646,2.36697 L119.088843,2.86638194 L124.924366,2.58310996 L131.052638,2.29982665 L131.02955,1.80036 L131.053446,2.29978863 L136.974546,2.01647863 L136.95065,1.51705 L136.97513,2.01645039 L141.766874,1.78156915 L146.568058,2.01645273 L146.59249,1.51705 L146.568594,2.01647863 L152.489694,2.29978863 L152.51359,1.80036 L152.490502,2.29982665 L158.618774,2.58310996 L164.454297,2.86638194 L164.47854,2.36697 L164.454828,2.86640743 L170.819768,3.16859743 L170.84348,2.66916 L170.819658,3.16859218 L176.561328,3.44246218 L176.58515,2.94303 L176.561726,3.44248103 L182.803896,3.73523103 L182.82732,3.23578 L182.850784,2.73633087 L188.479134,3.00075087 L188.45567,3.5002 L188.479382,3.00076257 L194.844322,3.30295257 L194.82061,3.80239 L194.844466,3.30295942 L200.973316,3.59570942 L200.94946,4.09514 L200.973679,3.5957269 L206.620451,3.86956469 L212.692183,4.15285333 L212.66888,4.65231 L212.692958,4.15289008 L218.764898,4.44562755 L224.770591,4.72890928 L230.842653,5.01221333 L230.81935,5.51167 L230.843503,5.0122537 L236.896455,5.30498638 L242.732197,5.57882959 L242.70876,6.07828 L242.732763,5.57885649 L248.823589,5.87159427 L255.046615,6.1643323 L255.02312,6.66378 L255.047402,6.16436996 L260.873738,6.44765419 L266.858778,6.730862 L267.565212,6.75908865 L267.54525,7.25869 L268.04525,7.25869 L268.04525,12.82093 L267.04525,12.82093 L267.04525,7.73911071 L266.817018,7.72999135 L266.83698,7.23039 L266.813347,7.72983116 L260.826147,7.44652116 L260.84978,6.94708 L260.825498,7.44649004 L254.999232,7.16320918 L248.776345,6.8704777 L248.79984,6.37103 L248.775837,6.87045351 L242.68504,6.57771712 L236.849223,6.30387041 L236.87266,5.80442 L236.848507,6.3038363 L230.795622,6.01110685 L224.723857,5.72781667 L224.74716,5.22836 L224.723602,5.7278047 L218.717522,5.4445047 L218.74108,4.94506 L218.717002,5.44447992 L212.64519,5.1517486 L206.573387,4.86845667 L206.59669,4.369 L206.572471,4.8684131 L200.925423,4.59456191 L194.796826,4.30182401 L188.432082,3.99964331 L182.803856,3.73522913 L182.82732,3.23578 L182.850744,2.73632897 L176.608773,2.44358832 L170.867302,2.16972782 L170.84348,2.66916 L170.867192,2.16972257 L164.502517,1.86754517 L158.666683,1.58425806 L158.64244,2.08367 L158.665528,1.58420335 L152.537082,1.30091203 L146.616654,1.01763417 L141.791282,0.781567269 L141.76685,1.28097 L141.74237,0.781569608 L136.926462,1.01763532 L136.926462,1.01763532 Z M15.49789,33.79552 L15.49789,30.86752 L16.49789,30.86752 L16.49789,34.29552 L15.99789,34.29552 L15.99789,34.79552 L13.26871,34.79552 L13.26871,33.79552 L15.49789,33.79552 L15.49789,33.79552 Z M1.32773647,34.79552 L1.48240626,40.0114441 L1.69946947,46.1078416 L1.97298653,52.0309549 L2.36892044,58.0830548 L2.89646315,64.0085756 L3.64009747,70.0047079 L4.62742792,75.8628831 L5.97991318,81.7612075 L7.7144082,87.3865764 L10.0260957,92.9177884 L12.9770624,98.1286825 L16.5940851,102.743185 L20.9325205,106.792382 L25.8024024,110.250842 L31.0379679,113.144922 L36.5075892,115.584205 L42.1353005,117.622951 L47.8353708,119.363078 L53.6349855,120.860056 L59.477784,122.188824 L65.4012233,123.405575 L71.2920275,124.56675 L71.19533,125.05731 L71.2921761,124.566779 L77.1754961,125.728329 L77.07865,126.21886 L77.1798752,125.729214 L83.0726452,126.947434 L82.97142,127.43708 L83.0788057,126.948748 L88.9621257,128.242508 L88.85474,128.73084 L88.973236,128.245084 L94.818776,129.671054 L94.70028,130.15681 L94.8350666,129.67532 L100.671177,131.30906 L100.53639,131.79055 L100.696394,131.316843 L106.371954,133.233873 L106.21195,133.70758 L106.411658,133.249195 L111.917238,135.647855 L111.71753,136.10624 L111.977429,135.679095 L117.114709,138.804905 L116.85481,139.23205 L117.186063,138.857522 L121.681183,142.833252 L121.34993,143.20778 L121.751709,142.910166 L125.340249,147.754696 L124.93847,148.05231 L125.388639,147.834714 L127.995059,153.226964 L127.54489,153.44456 L128.020551,153.290462 L129.871481,159.003802 L129.39582,159.1579 L129.882896,159.044955 L131.242766,164.909385 L130.75569,165.02233 L131.248565,164.938219 L132.259025,170.859319 L131.76615,170.94343 L132.26192,170.878527 L133.04573,176.865727 L132.54996,176.93063 L133.047174,176.877919 L133.679894,182.846229 L133.18268,182.89894 L133.680815,182.855795 L134.200205,188.852435 L133.70207,188.89558 L134.200588,188.857112 L134.663318,194.853762 L134.1648,194.89223 L134.663594,194.857522 L134.961747,199.14232 L135.78909,199.14232 L135.78909,200.14232 L134.49533,200.14232 L134.49533,199.64232 L133.996536,199.677028 L133.666137,194.928819 L133.203733,188.936388 L132.68496,182.946873 L132.053393,176.989446 L131.271641,171.017965 L130.26529,165.120944 L128.913572,159.291666 L127.079797,153.631281 L124.508738,148.312187 L120.979379,143.547551 L116.556892,139.636062 L111.486665,136.55105 L106.031768,134.174472 L100.388892,132.268482 L94.5736028,130.64057 L88.7417844,129.217947 L82.8671104,127.926089 L76.9796124,126.708958 L71.0985582,125.547856 L65.2058725,124.38631 L65.30257,123.89575 L65.2019641,124.385524 L59.2714241,123.167314 L59.37203,122.67754 L59.2611513,123.165091 L53.4061613,121.833551 L53.51704,121.346 L53.3920772,121.830133 L47.5748672,120.328613 L47.69983,119.84448 L47.5538405,120.322692 L41.8310605,118.575632 L41.97705,118.09742 L41.8067463,118.567523 L36.1500663,116.518283 L36.32037,116.04818 L36.1167194,116.504827 L30.6111394,114.049507 L30.81479,113.59286 L30.5728995,114.030455 L25.2939695,111.112405 L25.53586,110.67481 L25.246352,111.082468 L20.326272,107.588358 L20.61578,107.1807 L20.2746213,107.546228 L15.8833713,103.447738 L16.22453,103.08221 L15.8310124,103.390664 L12.1669224,98.7161141 L12.56044,98.40766 L12.1253618,98.6540479 L9.14121184,93.3845579 L9.57629,93.13817 L9.11495956,93.3309762 L6.78240956,87.7498462 L7.24374,87.55704 L6.76593682,87.7043632 L5.01887682,82.0382432 L5.49668,81.89092 L5.00932798,82.0026698 L3.64945798,76.0721398 L4.13681,75.96039 L3.64376355,76.0434875 L2.65219355,70.1601575 L3.14524,70.07706 L2.64904138,70.1385981 L1.90300138,64.1230681 L2.3992,64.06153 L1.90116983,64.1058691 L1.37233983,58.1658891 L1.87037,58.12155 L1.37143655,58.1541907 L0.974806552,52.0914507 L1.47374,52.05881 L0.974272249,52.0818744 L0.700412249,46.1513344 L1.19988,46.12827 L0.700196631,46.1460613 L0.482986631,40.0455413 L0.98267,40.02775 L0.482889686,40.0425702 L0.312909686,34.3103402 L0.81269,34.29552 L0.81269,33.79552 L1.21876,33.79552 L1.21876,34.0394993 L1.21876,33.79552 L7.27207,33.79552 L7.27207,34.79552 L1.32773647,34.79552 L1.32773647,34.79552 Z M267.54525,34.29552 L267.04525,34.29552 L267.04525,30.86752 L268.04525,30.86752 L268.04525,33.79552 L270.27443,33.79552 L270.27443,34.79552 L267.54525,34.79552 L267.54525,34.29552 L267.54525,34.29552 Z M282.215403,34.79552 L276.27107,34.79552 L276.27107,33.79552 L282.32438,33.79552 L282.32438,34.039499 L282.32438,33.79552 L282.73045,33.79552 L282.73045,34.29552 L283.23023,34.310341 L283.06024,40.042571 L282.56046,40.02775 L283.060143,40.0455405 L282.842943,46.1460605 L282.34326,46.12827 L282.842728,46.1513344 L282.568868,52.0818744 L282.0694,52.05881 L282.568333,52.0914507 L282.171703,58.1541907 L281.67277,58.12155 L282.1708,58.1658899 L281.64196,64.1058699 L281.14393,64.06153 L281.640129,64.1230681 L280.894089,70.1385981 L280.39789,70.07706 L280.890936,70.1601575 L279.899366,76.0434875 L279.40632,75.96039 L279.893672,76.072139 L278.533812,82.002669 L278.04646,81.89092 L278.524263,82.0382432 L276.777203,87.7043632 L276.2994,87.55704 L276.76073,87.7498462 L274.42818,93.3309762 L273.96685,93.13817 L274.401593,93.385148 L271.407993,98.654638 L270.97325,98.40766 L271.366768,98.7161141 L267.702678,103.390664 L267.30916,103.08221 L267.650319,103.447738 L263.259079,107.546228 L262.91792,107.1807 L263.207798,107.588095 L258.297158,111.082205 L258.00728,110.67481 L258.24917,111.112405 L252.97024,114.030455 L252.72835,113.59286 L252.932001,114.049507 L247.426421,116.504827 L247.22277,116.04818 L247.393074,116.518283 L241.736394,118.567523 L241.56609,118.09742 L241.712079,118.575632 L235.989299,120.322692 L235.84331,119.84448 L235.968273,120.328613 L230.151063,121.830133 L230.0261,121.346 L230.136979,121.833551 L224.281989,123.165091 L224.17111,122.67754 L224.271716,123.167314 L218.341176,124.385524 L218.24057,123.89575 L218.337267,124.386311 L212.444572,125.547856 L206.563518,126.708958 L200.67603,127.926089 L194.801355,129.217947 L188.969527,130.64057 L183.154248,132.268482 L177.511372,134.174472 L172.056475,136.55105 L166.986248,139.636062 L162.563761,143.547551 L159.034392,148.312187 L156.463343,153.631281 L154.629568,159.291666 L153.27785,165.120944 L152.271499,171.017965 L151.489747,176.989446 L150.85818,182.946873 L150.339407,188.936388 L149.876955,194.929311 L149.537094,199.678013 L149.03837,199.64232 L149.03837,200.14232 L147.75405,200.14232 L147.75405,199.14232 L148.572876,199.14232 L148.879606,194.856537 L149.37833,194.89223 L148.879812,194.853761 L149.342552,188.857111 L149.84107,188.89558 L149.342935,188.852435 L149.862325,182.855795 L150.36046,182.89894 L149.863246,182.846229 L150.495966,176.877919 L150.99318,176.93063 L150.49741,176.865727 L151.28122,170.878527 L151.77699,170.94343 L151.284115,170.859319 L152.294575,164.938219 L152.78745,165.02233 L152.300374,164.909385 L153.660244,159.044955 L154.14732,159.1579 L153.671659,159.003802 L155.522589,153.290462 L155.99825,153.44456 L155.548081,153.226965 L158.154491,147.834715 L158.60466,148.05231 L158.202882,147.754696 L161.791432,142.910166 L162.19321,143.20778 L161.861957,142.833252 L166.357077,138.857522 L166.68833,139.23205 L166.428431,138.804905 L171.565711,135.679095 L171.82561,136.10624 L171.625902,135.647855 L177.131482,133.249195 L177.33119,133.70758 L177.171186,133.233873 L182.846746,131.316843 L183.00675,131.79055 L182.871963,131.30906 L188.708063,129.67532 L188.84285,130.15681 L188.724354,129.671054 L194.569904,128.245084 L194.6884,128.73084 L194.581014,128.242508 L200.464334,126.948748 L200.57172,127.43708 L200.470495,126.947434 L206.363255,125.729214 L206.46448,126.21886 L206.367634,125.728329 L212.250954,124.566779 L212.3478,125.05731 L212.251103,124.566749 L218.141917,123.405575 L224.065356,122.188824 L229.908154,120.860056 L235.707769,119.363078 L241.407839,117.622951 L247.035551,115.584205 L252.505172,113.144922 L257.740538,110.250952 L262.601013,106.792537 L266.939605,102.743185 L270.556838,98.128414 L273.517176,92.9174743 L275.828732,87.3865764 L277.563227,81.7612079 L278.915702,75.8628835 L279.903033,70.0047079 L280.646667,64.0085752 L281.17422,58.0830544 L281.570153,52.0309549 L281.843671,46.107842 L282.060724,40.0114441 L282.215403,34.79552 L282.215403,34.79552 Z M141.76685,200.14232 L141.76685,199.14232 L147.75405,199.14232 L147.75405,200.14232 L141.76685,200.14232 Z M276.27107,33.79552 L276.27107,34.79552 L270.27443,34.79552 L270.27443,33.79552 L276.27107,33.79552 Z M268.04525,30.86752 L267.04525,30.86752 L267.04525,24.79533 L268.04525,24.79533 L268.04525,30.86752 Z M268.04525,24.79533 L267.04525,24.79533 L267.04525,18.98756 L268.04525,18.98756 L268.04525,24.79533 Z M268.04525,18.98756 L267.04525,18.98756 L267.04525,12.82093 L268.04525,12.82093 L268.04525,18.98756 Z M141.76685,199.14232 L141.76685,200.14232 L135.78909,200.14232 L135.78909,199.14232 L141.76685,199.14232 Z M7.27207,34.79552 L7.27207,33.79552 L13.26871,33.79552 L13.26871,34.79552 L7.27207,34.79552 Z M16.49789,30.86752 L15.49789,30.86752 L15.49789,24.79533 L16.49789,24.79533 L16.49789,30.86752 Z M16.49789,24.79533 L15.49789,24.79533 L15.49789,18.98756 L16.49789,18.98756 L16.49789,24.79533 Z M16.49789,18.98756 L15.49789,18.98756 L15.49789,12.82093 L16.49789,12.82093 L16.49789,18.98756 Z" id="Combined-Shape" stroke="#000000" fill="#D8D8D8"></path>
                <text id="_angle" font-family="Helvetica" font-size="12" font-weight="normal" fill="#000000">
                    <tspan x="136" y="26">{{angle}}</tspan>
                </text>
                <path d="M23.83602,109.45659 L259.70712,109.45659" id="path50" stroke="#000000" stroke-width="0.5"></path>
                <path d="M141.76685,199.64232 L141.76685,1.28094" id="path56" stroke="#000000" stroke-width="0.5"></path>
            </g>
            <use id="_water" stroke="#979797" mask="url(#mask-2)" stroke-width="2" fill-opacity="0.8" fill="#066CC5" xlink:href="#path-1"></use>
        </g>
    </g>
</svg>


</template>

  <script>
    Polymer({

      is: 'my-stern',
      ready: function() {
        this.isready = true;
        this.update(); // The SVG is rotated to non-zero
      },
      properties: {
        angle: {
          type: Number,
          value: 0,
          notify: true,
          observer: 'update',
          reflectToAttribute: true
        },
        angleWarning: {
          type: Number, 
          value: 45,
          notify: true,
          observer: 'update',
          reflectToAttribute: true
        }
      },
      update: function() {
      if (!this.isready) return;

      var toRotate = this.$._stern;
  
      var newTransform = toRotate.getAttribute("transform").replace(/rotate\(.*?\)/,"rotate("+this.angle+")");
      toRotate.setAttribute("transform", newTransform);
  
      if (Math.abs(this.angle) >= this.angleWarning) {
        this.$._water.classList.add("alert");
      } else {
        this.$._water.classList.remove("alert");
      }

      }

    });
  </script>
</dom-module>
